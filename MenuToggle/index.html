<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Toggle | Animated dot-to-close icon</title>
    <style>
        :root {
            --dot-size: 16px;
            --gap: 24px;
            --bg-color: #121212;
            --dot-color: #00ffcc;
            --x-color: #ff3e3e;
        }

        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: var(--bg-color);
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, var(--dot-size));
            grid-template-rows: repeat(3, var(--dot-size));
            gap: var(--gap);
            cursor: pointer;
            padding: 20px;
        }

        .dot {
            width: var(--dot-size);
            height: var(--dot-size);
            background-color: var(--dot-color);
            border-radius: 50%;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            box-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
        }

        /* Đổi màu khi biến thành chữ X */
        .grid-container:hover .dot {
            background-color: var(--x-color);
            box-shadow: 0 0 15px rgba(255, 62, 62, 0.5);
        }
    </style>
</head>

<body>

    <div class="grid-container" id="container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>

    <script>
        const dots = document.querySelectorAll('.dot');
        const container = document.getElementById('container');

        // Khoảng cách dịch chuyển (size + gap)
        const d = 16 + 24;
        const halfD = d / 2;

        // Tọa độ để 9 chấm xếp thành chữ X (mỗi nhánh có 2 chấm + 1 tâm)
        // Tính toán dựa trên độ lệch so với vị trí ban đầu của từng chấm trong lưới 3x3
        const morphX = [
            "translate(0, 0)",                // 0: Top-Left (giữ nguyên làm đỉnh X)
            `translate(${-halfD}px, ${halfD}px)`, // 1: Top-Center -> Di chuyển vào giữa 0 và 4
            "translate(0, 0)",                // 2: Top-Right (giữ nguyên làm đỉnh X)
            `translate(${halfD}px, ${-halfD}px)`, // 3: Mid-Left -> Di chuyển vào giữa 0 và 4
            "translate(0, 0)",                // 4: Center (Tâm X)
            `translate(${-halfD}px, ${-halfD}px)`,// 5: Mid-Right -> Di chuyển vào giữa 2 và 4
            "translate(0, 0)",                // 6: Bottom-Left (giữ nguyên làm chân X)
            `translate(${halfD}px, ${-halfD}px)`, // 7: Bottom-Center -> Di chuyển vào giữa 6 và 4
            "translate(0, 0)"                 // 8: Bottom-Right (giữ nguyên làm chân X)
        ];

        // Tinh chỉnh lại một chút cho cân đối
        const finalPositions = [
            "translate(0, 0)",                          // 0 (Góc trên trái)
            `translate(${-halfD}px, ${halfD}px)`,       // 1 (Chen vào nhánh trên trái)
            "translate(0, 0)",                          // 2 (Góc trên phải)
            `translate(${halfD}px, ${halfD}px)`,        // 3 (Chen vào nhánh trên phải)
            "translate(0, 0)",                          // 4 (Tâm)
            `translate(${-halfD}px, ${-halfD}px)`,      // 5 (Chen vào nhánh dưới trái)
            "translate(0, 0)",                          // 6 (Góc dưới trái)
            `translate(${halfD}px, ${-halfD}px)`,       // 7 (Chen vào nhánh dưới phải)
            "translate(0, 0)"                           // 8 (Góc dưới phải)
        ];

        container.addEventListener('mouseenter', () => {
            dots.forEach((dot, i) => {
                dot.style.transform = finalPositions[i];
            });
        });

        container.addEventListener('mouseleave', () => {
            dots.forEach((dot) => {
                dot.style.transform = "translate(0, 0)";
            });
        });
    </script>
</body>

</html>